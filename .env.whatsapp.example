# Exemplo de configuração WhatsApp Business API

# Siga estas etapas para configurar o WhatsApp:

# 1. Acesse https://developers.facebook.com
# 2. Crie um aplicativo Business
# 3. Configure o WhatsApp Business API
# 4. Obtenha as credenciais abaixo:

# WhatsApp Business API Configuration
WHATSAPP_ENABLED=true

# Token de acesso (obtido no Meta for Developers)
# Para testes, use o token temporário (dura 24h)
# Para produção, configure um token permanente
WHATSAPP_ACCESS_TOKEN=EAAxxxxxxxxxxxxxxxxxxxxxxx

# ID do número de telefone (obtido no painel do WhatsApp API)
WHATSAPP_PHONE_NUMBER_ID=123456789012345

# Número que receberá as notificações (formato: código país + DDD + número)
# Exemplo para Brasil: 55 + 11 + 999999999 = 5511999999999
WHATSAPP_RECIPIENT_NUMBER=5511999999999

# OPCIONAL: ID do grupo para enviar notificações
# Para obter o ID do grupo, use o webhook ou ferramentas de debug
# Formato: 123456789-123456789@g.us
WHATSAPP_GROUP_ID=

# Token para verificação do webhook (você define este valor)
WHATSAPP_VERIFY_TOKEN=meu_token_secreto_123

# ================================================================
# INSTRUÇÕES PARA CONFIGURAR:
# ================================================================

# PASSO 1: Criar aplicativo no Meta for Developers
# - Acesse: https://developers.facebook.com
# - Clique em "Meus Aplicativos" → "Criar Aplicativo"
# - Selecione "Business" como tipo
# - Adicione o produto "WhatsApp"

# PASSO 2: Configurar número de telefone
# - No painel do WhatsApp, vá para "API Setup"
# - Adicione um número de telefone business
# - Verifique o número seguindo as instruções

# PASSO 3: Obter credenciais
# - ACCESS_TOKEN: No painel "API Setup", copie o "Temporary access token"
# - PHONE_NUMBER_ID: No painel "API Setup", copie o "Phone number ID"
# - RECIPIENT_NUMBER: Seu número que receberá as notificações

# PASSO 4: Testar
# - Substitua as credenciais no .env
# - Execute: POST /api/test-whatsapp com {"message": "teste"}
# - Verifique se recebeu a mensagem no WhatsApp

# ================================================================
# OBSERVAÇÕES IMPORTANTES:
# ================================================================

# LIMITAÇÕES DA API GRATUITA:
# - Só pode enviar para números que interagiram nas últimas 24h
# - Para números novos, use templates pré-aprovados
# - Limite de mensagens por dia

# FORMATO DO NÚMERO DESTINATÁRIO:
# - Deve incluir código do país
# - Não usar símbolos (+, -, espaços)
# - Brasil: 55 + DDD + número
# - Exemplo: 5511999999999

# TOKENS:
# - Token temporário: dura 24 horas (apenas para testes)
# - Token permanente: configure via System User (produção)

# ================================================================
# ENVIANDO PARA GRUPOS:
# ================================================================

# COMO OBTER O ID DO GRUPO:
# 1. Configure um webhook para capturar mensagens
# 2. Envie uma mensagem para o grupo
# 3. O ID aparecerá no formato: 123456789-123456789@g.us
# 4. Ou use ferramentas como WhatsApp Web Inspector

# CONFIGURAÇÃO PARA GRUPOS:
# - Deixe WHATSAPP_GROUP_ID preenchido para enviar para grupo
# - Se GROUP_ID estiver preenchido, terá prioridade sobre RECIPIENT_NUMBER
# - O bot deve estar adicionado no grupo
# - Grupo deve ter interagido com o bot nas últimas 24h

# TESTES:
# - Grupo: POST /api/test-whatsapp-group
# - Individual: POST /api/test-whatsapp

# WEBHOOK (OPCIONAL):
# - Para receber mensagens dos usuários
# - Configure apenas se quiser chat bidirecional
